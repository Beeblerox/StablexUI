<div class="manual">
<h2>Skin system</h2>

Every widget can be skinned using <a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a>.skin property.
This property is of type <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Skin.html" title="ru.stablex.ui.skins.Skin">Skin</a>. You can choose any skinning class
from ru.stablex.ui.skins.* package or your custom class, wich extends Skin.

Here is example of using <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Paint.html" title="ru.stablex.ui.skins.Paint">Paint</a> class to skin widget:

<div class="xml">
&lt;?xml <span class="attr">version</span>=<span class="quotes">"</span>1.0<span class="quotes">"</span> <span class="attr">encoding</span>=<span class="quotes">"</span>UTF-8<span class="quotes">"</span>?&gt;

&lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a></span> <span class="attr">w</span>=<span class="quotes">"</span>100<span class="quotes">"</span> <span class="attr">h</span>=<span class="quotes">"</span>100<span class="quotes">"</span> <span class="attr">skin:Paint-color</span>=<span class="quotes">"</span>0x00FF00<span class="quotes">"</span> <span class="attr">skin:Paint-border</span>=<span class="quotes">"</span>2<span class="quotes">"</span>/&gt;

</div>
It creates instance of <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Paint.html" title="ru.stablex.ui.skins.Paint">Paint</a>; assigns `.color` and `.border` properties to
that instance; and than assigns that instance to `.skin` property of widget.
This xml is translated by StablexUI for haxe compiler as follows:

<div class="haxe">
<div class="definition"><span class="var">var</span> <span class="definitionName">widget</span> : <a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a> = ... <i>// UIBuilder actions to create widget object</div></i>
<div class="definition"><span class="var">var</span> skin = new <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Paint.html" title="ru.stablex.ui.skins.Paint">Paint</a>(); <i>//create instance of skin class</div></i>
skin.color  = 0x002200;
skin.border = 1;
widget.skin = skin; <i>//assign tuned skin to widget</i>
widget.onCreate(); <i>//skin will be applied inside <span class="this">this</span> call</i>

</div>

</div>
<div class="manual">
<h2>Skin presets</h2>

What if you don't want to specify skin settings for every tag in ui xml? Solution exists!
You can use skin presets. To describe skin presets, you need to pass through 2 simple steps.

Step 1. Create xml with skin presets. For example, `skins.xml`:

<div class="xml">
&lt;?xml <span class="attr">version</span>=<span class="quotes">"</span>1.0<span class="quotes">"</span> <span class="attr">encoding</span>=<span class="quotes">"</span>UTF-8<span class="quotes">"</span>?&gt;

&lt;<span class="tag">Skins</span>&gt;
    <i>&lt;!-- here goes `skinName`:`SkinClass` --&gt;</i>
    &lt;<span class="tag">red:Paint</span>
        <span class="attr">color</span>       = <span class="quotes">"</span>0x550000<span class="quotes">"</span>  <i>&lt;!-- these are properties of chosen skin class --&gt;</i>
        <span class="attr">borderColor</span> = <span class="quotes">"</span>0xFF0000<span class="quotes">"</span>
        <span class="attr">border</span>      = <span class="quotes">"</span>8<span class="quotes">"</span>
    /&gt;
    <i>&lt;!-- another skin preset --&gt;</i>
    &lt;<span class="tag">background:Tile</span>
        <span class="attr">src</span>         = <span class="quotes">"</span>'assets/img/background.jpg'<span class="quotes">"</span>
        <span class="attr">borderColor</span> = <span class="quotes">"</span>0x00FF00<span class="quotes">"</span>
        <span class="attr">borderAlpha</span> = <span class="quotes">"</span>0.5<span class="quotes">"</span>
        <span class="attr">border</span>      = <span class="quotes">"</span>2<span class="quotes">"</span>
    /&gt;
    <i>&lt;!-- and another one --&gt;</i>
    &lt;<span class="tag">winxp:Slice9</span>
        <span class="attr">src</span>   = <span class="quotes">"</span>'assets/img/winxp.png'<span class="quotes">"</span>
        <span class="attr">slice</span> = <span class="quotes">"</span>[5, 10, 32, 48]<span class="quotes">"</span>
    /&gt;
    <i>&lt;!-- and so on --&gt;</i>
    <i>&lt;!-- ... --&gt;</i>
&lt;/<span class="tag">Skins</span>&gt;

</div>
Step 2. Register your skin presets using <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>
Here is example main class:

<div class="haxe">
<div class="classDef"> <span class="class">class</span> <span class="className">Main</span> <span class="extends">extends</span> <a class="type" href="/ui/doc/#http://nme.io/api/types/nme/display/Sprite.html" title="nme.display.Sprite">Sprite</a>{</div>
<i>    /**</i>
<i>    * Enrty point</i>
<i>    *</i>
<i>    */</i>
<div class="definition">    <span class="static">static</span> <span class="public">public</span> <span class="function">function</span> <span class="definitionName">main</span> () : <a class="type" href="/ui/doc/#http://haxe.org/api/Void" title="Void">Void</a>{</div>
        <i>//initialize StablexUI</i>
        <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>.init();

        <i>//register skins. It is required to call .regSkins() after .init()</i>
        <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>.regSkins('skins.xml');

        <i>//Create our UI</i>
        <a class="type" href="/ui/doc/#http://nme.io/api/types/nme/Lib.html" title="nme.Lib">Lib</a>.current.addChild( <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>.buildFn('ui.xml')() );
    }<i>//function main()</i>


}<i>//class Main</i>

</div>
That is all! Now you can use your skins by theirs names as in following ui xml:

<div class="xml">
&lt;?xml <span class="attr">version</span>=<span class="quotes">"</span>1.0<span class="quotes">"</span> <span class="attr">encoding</span>=<span class="quotes">"</span>UTF-8<span class="quotes">"</span>?&gt;

&lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/VBox.html" title="ru.stablex.ui.widgets.VBox">VBox</a></span> <span class="attr">skinName</span>=<span class="quotes">"</span>'background'<span class="quotes">"</span> <span class="attr">w</span>=<span class="quotes">"</span>700<span class="quotes">"</span> <span class="attr">h</span>=<span class="quotes">"</span>500<span class="quotes">"</span>&gt;
    &lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a></span> <span class="attr">skinName</span>=<span class="quotes">"</span>'red'<span class="quotes">"</span> <span class="attr">w</span>=<span class="quotes">"</span>100<span class="quotes">"</span> <span class="attr">h</span>=<span class="quotes">"</span>50<span class="quotes">"</span> /&gt;
    &lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a></span> <span class="attr">skinName</span>=<span class="quotes">"</span>'winxp'<span class="quotes">"</span> <span class="attr">w</span>=<span class="quotes">"</span>100<span class="quotes">"</span> <span class="attr">h</span>=<span class="quotes">"</span>50<span class="quotes">"</span> /&gt;
    &lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Button.html" title="ru.stablex.ui.widgets.Button">Button</a></span> <span class="attr">skinName</span>=<span class="quotes">"</span>'red'<span class="quotes">"</span> <span class="attr">text</span>=<span class="quotes">"</span>'just a button'<span class="quotes">"</span> /&gt;
&lt;/<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/VBox.html" title="ru.stablex.ui.widgets.VBox">VBox</a></span>&gt;

</div>

</div>
<div class="manual">
<h2>Custom skin class</h2>

You can create your own skin classes by extending <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Skin.html" title="ru.stablex.ui.skins.Skin">Skin</a>. For example,
let's create skin wich draws fractal rectangles on widget. Here is the source code for Fractal.hx:

<div class="haxe">
 <span class="package">package</span>;
<i>/**</i>
<i>* Draw fractal rectangles</i>
<i>*</i>
<i>*/</i>
<div class="classDef"> <span class="class">class</span> <span class="className">Fractal</span> <span class="extends">extends</span> <a class="type" href="/ui/doc/#ru/stablex/ui/skins/Skin.html" title="ru.stablex.ui.skins.Skin">Skin</a>{</div>

    <i>//Thickness of line used to draw rectangles</i>
<div class="definition">    <span class="public">public</span> <span class="var">var</span> <span class="definitionName">lineThickness</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Int" title="Int">Int</a> = 2;</div>
    <i>//Color of line used to draw rectangles</i>
<div class="definition">    <span class="public">public</span> <span class="var">var</span> <span class="definitionName">lineColor</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Int" title="Int">Int</a> = 0x000000;</div>
    <i>//step between rectangles in pixels</i>
<div class="definition">    <span class="public">public</span> <span class="var">var</span> <span class="definitionName">step</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Int" title="Int">Int</a> = 10;</div>


<i>    /**</i>
<i>    * Apply skin to widget</i>
<i>    *</i>
<i>    */</i>
<div class="definition">    <span class="override">override</span> <span class="public">public</span> <span class="function">function</span> <span class="definitionName">apply</span> (widget:<a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a>) : <a class="type" href="/ui/doc/#http://haxe.org/api/Void" title="Void">Void</a> {</div>
        <i>//make sure `step` is valid</i>
        <span class="if">if</span>( <span class="this">this</span>.step <span class="operator"><=</span> 0 ) <span class="this">this</span>.step = 10;

        <i>//size of initial rectangle</i>
<div class="definition">        <span class="var">var</span> <span class="definitionName">width</span>  : <a class="type" href="/ui/doc/#http://haxe.org/api/Float" title="Float">Float</a> = widget.w;</div>
<div class="definition">        <span class="var">var</span> <span class="definitionName">height</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Float" title="Float">Float</a> = widget.h;</div>

        <i>//top-left corner of initial rectangle</i>
<div class="definition">        <span class="var">var</span> <span class="definitionName">x</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Int" title="Int">Int</a> = 0;</div>
<div class="definition">        <span class="var">var</span> <span class="definitionName">y</span> : <a class="type" href="/ui/doc/#http://haxe.org/api/Int" title="Int">Int</a> = 0;</div>

        widget.graphics.clear();
        widget.graphics.lineStyle(<span class="this">this</span>.lineThickness, <span class="this">this</span>.lineColor);

        <i>//draw rectangles</i>
        while( width > <span class="this">this</span>.step <span class="operator">&&</span> height > <span class="this">this</span>.step ){

            widget.graphics.drawRect(x, y, width, height);

            width  -= <span class="this">this</span>.step;
            height -= <span class="this">this</span>.step;

            x += <span class="this">this</span>.step;
            y += <span class="this">this</span>.step;
        }<i>//while()</i>
    }<i>//function apply()</i>
}<i>//class Fractal</i>

</div>
Now we need to register our new skin class:

<div class="haxe">
 <span class="package">package</span>;

<i>/**</i>
<i>* Main class</i>
<i>*/</i>
<div class="classDef"> <span class="class">class</span> <span class="className">Main</span> <span class="extends">extends</span> <a class="type" href="/ui/doc/#http://nme.io/api/types/nme/display/Sprite.html" title="nme.display.Sprite">Sprite</a>{</div>
<i>    /**</i>
<i>    * Enrty point</i>
<i>    *</i>
<i>    */</i>
<div class="definition">    <span class="static">static</span> <span class="public">public</span> <span class="function">function</span> <span class="definitionName">main</span> () : <a class="type" href="/ui/doc/#http://haxe.org/api/Void" title="Void">Void</a>{</div>
        <i>//Register our custom skin class, so we can use it in xml</i>
        <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>.regClass('Fractal');

        <i>//initialize StablexUI</i>
        <a class="type" href="/ui/doc/#ru/stablex/ui/UIBuilder.html" title="ru.stablex.ui.UIBuilder">UIBuilder</a>.init();

        <i>//Create our UI</i>
        <a class="type" href="/ui/doc/#http://nme.io/api/types/nme/Lib.html" title="nme.Lib">Lib</a>.current.addChild( UIBuilder.buildFn('main.xml')() );
    }<i>//function main()</i>
}<i>//class Main</i>

</div>
And here is showcase `main.xml`:

<div class="xml">
&lt;?xml <span class="attr">version</span>=<span class="quotes">"</span>1.0<span class="quotes">"</span> <span class="attr">encoding</span>=<span class="quotes">"</span>UTF-8<span class="quotes">"</span>?&gt;

&lt;<span class="tag"><a class="type" href="/ui/doc/#ru/stablex/ui/widgets/Widget.html" title="ru.stablex.ui.widgets.Widget">Widget</a></span>
    <span class="attr">w</span>=<span class="quotes">"</span>400<span class="quotes">"</span>
    <span class="attr">h</span>=<span class="quotes">"</span>200<span class="quotes">"</span>
    <span class="attr">skin:Fractal-lineThickness</span> = <span class="quotes">"</span>8<span class="quotes">"</span>
    <span class="attr">skin:Fractal-lineColor</span>     = <span class="quotes">"</span>0x00FF00<span class="quotes">"</span>
    <span class="attr">skin:Fractal-step</span>          = <span class="quotes">"</span>20<span class="quotes">"</span>
/&gt;

</div>
Enjoy!
You can find full source code for this example in samples/06_custom_skin_class on <a href="https://github.com/RealyUniqueName/StablexUI" target="_blank">GitHub</a>.

</div>
